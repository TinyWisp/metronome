(function(e){function t(t){for(var i,s,a=t[0],h=t[1],l=t[2],d=0,m=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&m.push(o[s][0]),o[s]=0;for(i in h)Object.prototype.hasOwnProperty.call(h,i)&&(e[i]=h[i]);c&&c(t);while(m.length)m.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,a=1;a<n.length;a++){var h=n[a];0!==o[h]&&(i=!1)}i&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},o={app:0},r=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],h=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var c=h;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var i=n("64a9"),o=n.n(i);o.a},"42a1":function(e,t,n){"use strict";var i=n("a891"),o=n.n(i);o.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"monitor"},[e.started?e._e():n("div",{staticClass:"btn btn-start",on:{click:function(t){return e.start()}}}),e.started?n("div",{staticClass:"btn btn-stop",on:{click:function(t){return e.stop()}}}):e._e(),n("Metronome",{ref:"metronome",staticClass:"metronome",attrs:{bpm:e.bpm,rhymePattern:e.rhymePattern}})],1),n("div",{staticClass:"control-panel"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col bpm-control"},[n("em",{staticClass:"btn btn-left",on:{click:function(t){return e.modifyBpm(-10)}}},[e._v("-")]),n("em",{staticClass:"btn btn-left",on:{click:function(t){return e.modifyBpm(-1)}}},[e._v("-")]),e._v("\n         "+e._s(e.bpm)+"\n        "),n("em",{staticClass:"btn btn-right",on:{click:function(t){return e.modifyBpm(1)}}},[e._v("+")]),n("em",{staticClass:"btn btn-right",on:{click:function(t){return e.modifyBpm(10)}}},[e._v("+")])])]),e._l(e.rhymePatternRows,function(t,i){return n("div",{key:i,staticClass:"row"},e._l(t,function(i,o){return n("div",{key:o,class:{col:!0,"col-rp-selected":e.notes[i]["rhymePattern"]==e.rhymePattern},style:{width:100/t.length+"%"}},[n("div",{staticClass:"musical-note-container",on:{click:function(t){return e.setRhymePattern(e.notes[i]["rhymePattern"])}}},e._l(e.notes[i]["descriptions"],function(t,o){return n("MusicalNote",{key:o,staticClass:"musical-note",attrs:{color:e.notes[i]["rhymePattern"]==e.rhymePattern?"rgb(49, 145, 231)":"#cccccc",backgroundColor:"#333333",description:t}})}),1)])}),0)})],2)])},r=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"metronome",staticClass:"metronome",style:e.cssProps},[n("div",{ref:"rotateBox",staticClass:"rotate-box"},[n("div",{staticClass:"ball"})])])},a=[],h=(n("ac4d"),n("8a81"),n("ac6a"),n("28a5"),n("c5f6"),n("cffa")),l={name:"Metronome",props:{bpm:{type:Number,default:40},rhymePattern:{type:String,default:"1"}},computed:{period:function(){return Math.floor(6e4/this.bpm)},beats:function(){var e=[],t=this.rhymePattern.split(","),n=!0,i=!1,o=void 0;try{for(var r,s=t[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){for(var a=r.value,h=[],l=a.length,c=0;c<l;c++){var d=a.charAt(c);"0"!==d&&h.push({time:this.period*c/l,type:d})}e.push(h)}}catch(m){i=!0,o=m}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return e},cssProps:function(){return{"--ball-radius":"20px","--rotate-box-height":this.rbHeight+"px"}}},data:function(){return{rbHeight:0,rbAngle:"0rad",ballTimeline:null,started:!1,timer:null,beatTimers:[],counter:0,audioCtx:null,gain:null,beepFrequency:{1:1e3,2:440}}},methods:{beep:function(e){var t=this.audioCtx.createOscillator();t.connect(this.gain),t.frequency.value=this.beepFrequency[e],t.type="sine",t.start(0),t.stop(this.audioCtx.currentTime+.008)},start:function(){this.started=!0,this.counter=0,this.ballTimeline=new h["b"],this.playInOnePeriod(),this.timer=setInterval(function(){this.playInOnePeriod()}.bind(this),this.period)},stop:function(){this.started=!1,null!==this.ballTimeline&&(this.ballTimeline.pause(),this.ballTimeline.progress(0),this.ballTimeline.kill(),this.ballTimeline=null),this.counter=0,clearInterval(this.timer),this.timer=null;for(var e=0;e<this.beatTimers.length;e++)clearTimeout(this.beatTimers[e])},playInOnePeriod:function(){var e=this;0==this.counter?this.ballTimeline.to(this.$refs.rotateBox,this.period/1e3,{ease:h["a"].easeNone,rotation:this.rbAngle}):this.counter>0&&this.counter%2==0?this.ballTimeline.play():this.counter>0&&this.counter%2==1&&this.ballTimeline.reverse();var t=this.counter%this.beats.length,n=!0,i=!1,o=void 0;try{for(var r,s=function(){var t=r.value;e.beatTimers=[];var n=setTimeout(function(){this.beep(t.type)}.bind(e),t.time);e.beatTimers.push(n)},a=this.beats[t][Symbol.iterator]();!(n=(r=a.next()).done);n=!0)s()}catch(l){i=!0,o=l}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}this.counter=this.counter+1}},watch:{bpm:function(){this.started&&(this.stop(),this.start())}},mounted:function(){var e=this.$refs.metronome.clientWidth,t=this.$refs.metronome.clientHeight,n=(e*e+4*t*t)/(8*t);this.rbAngle=2*Math.asin(e/(2*n))/Math.PI*180,this.rbHeight=2*Math.sqrt(n*n-e/2*(e/2)),this.audioCtx=new AudioContext,this.gain=this.audioCtx.createGain(),this.gain.connect(this.audioCtx.destination)}},c=l,d=(n("cb2c"),n("2877")),m=Object(d["a"])(c,s,a,!1,null,"ba8ec06e",null),u=m.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["note",e.draw.noteClass],style:e.cssProps},e._l(e.draw.pieces,function(t,i){return n("div",{key:i,class:["piece",t.class]},e._l(t.parts,function(e,t){return n("div",{key:t,class:[e]})}),0)}),0)},_=[],f={name:"MusicalNote",props:{description:{type:String,default:""},color:{type:String,default:"black"},backgroundColor:{type:String,default:"white"}},computed:{cssProps:function(){return{"--color":this.color,"--backgroundColor":this.backgroundColor}},draw:function(){var e=this.description,t="",n=[];-1===e.indexOf(">")&&(e=">"+e);var i=e.split(">");t=i[0];var o=i[1],r=o.split("|"),s=!0,a=!1,h=void 0;try{for(var l,c=r[Symbol.iterator]();!(s=(l=c.next()).done);s=!0){var d=l.value;-1===d.indexOf("@")&&(d="@"+d),i=d.split("@"),n.push({class:i[0],parts:i[1].split(",")})}}catch(m){a=!0,h=m}finally{try{s||null==c.return||c.return()}finally{if(a)throw h}}return{noteClass:t,pieces:n}}}},y=f,b=(n("42a1"),Object(d["a"])(y,p,_,!1,null,"8b62b99a",null)),w=b.exports,v={name:"app",components:{Metronome:u,MusicalNote:w},data:function(){return{bpm:60,rhymePattern:"1",started:!1,notes:{"1/4":{descriptions:["stem,head"],rhymePattern:"1"},"1/8_1/8":{descriptions:["stem,head|hline one|hline  one|stem,head,hline one"],rhymePattern:"12"},"1/16_1/16_1/16_1/16":{descriptions:["stem,head|w1o3@stem,head,hline one,hline two|w1o3@stem,head,hline one,hline two|w1o3@stem,head,hline one,hline two"],rhymePattern:"1222"},"1/16_1/16_1/16_1/16_1/4":{descriptions:["stem,head|w1o3@stem,head,hline one,hline two|w1o3@stem,head,hline one,hline two|w1o3@stem,head,hline one,hline two","stem,head"],rhymePattern:"1222,1"},"1/12_1/12_1/12":{descriptions:["tuple t3>stem,head|hline one|stem,head,hline one|hline one|stem,head,hline one"],rhymePattern:"122"},"1/12_1/12_1/12_1/4":{descriptions:["tuple t3>stem,head|hline one|stem,head,hline one|hline one|stem,head,hline one","stem,head"],rhymePattern:"122,1"},"1/20_1/20_1/20_1/20_1/20":{descriptions:["tuple t5>stem,head|w1o5@hline one,stem,head|w1o5@hline one,stem,head|w1o5@hline one,stem,head|w1o5@hline one,stem,head"],rhymePattern:"12222"},"1/20_1/20_1/20_1/20_1/20_1/4":{descriptions:["tuple t5>stem,head|w1o3@hline one,stem,head|w1o3@hline one,stem,head|w1o3@hline one,stem,head|w1o3@hline one,stem,head","stem,head"],rhymePattern:"12222,1"},"3/16_1/16":{descriptions:["stem,head|hline one,dot|hline one|stem,head,hline one,hline two"],rhymePattern:"1002"},"3/16_1/16_1/4":{descriptions:["stem,head|hline one,dot|hline one|stem,head,hline one,hline two","stem,head"],rhymePattern:"1002,1"},"1/16_3/16":{descriptions:["stem,head|hline one,hline two|w1o5@hline one,stem,head|dot"],rhymePattern:"1200"},"1/16_3/16_1/4":{descriptions:["stem,head|hline one,hline two|w1o5@hline one,stem,head|dot","stem,head"],rhymePattern:"1200,1"},"1/8_1/16_1/16":{descriptions:["stem,head|w1o5@stem,head,hline one|w1o5@stem,head,hline one,hline two"],rhymePattern:"1022"},"1/8_1/16_1/16_1/4":{descriptions:["stem,head|w1o5@stem,head,hline one|w1o5@stem,head,hline one,hline two","stem,head"],rhymePattern:"1022,1"},"1/16_1/16_1/8":{descriptions:["stem,head|w1o5@stem,head,hline one, hline two|w1o5@stem,head,hline one"],rhymePattern:"1220"},"1/16_1/16_1/8_1/4":{descriptions:["stem,head|w1o5@stem,head,hline one, hline two|w1o5@stem,head,hline one","stem,head"],rhymePattern:"1220,1"},"1/16_1/8_1/16":{descriptions:["stem,head|hline one,hline two|w1o5@hline one,stem,head|w1o5@hline one|hline one,hline two,stem,head"],rhymePattern:"1202"},"1/16_1/8_1/16_1/4":{descriptions:["stem,head|hline one,hline two|w1o5@hline one,stem,head|w1o5@hline one|hline one,hline two,stem,head","stem,head"],rhymePattern:"1202,1"},"1/8_1/4_1/8":{descriptions:["stem,head|flag|stem,head|empty|stem,head|flag"],rhymePattern:"12,02"},"1/8_1/4_1/8_1/4":{descriptions:["stem,head|flag|stem,head|empty|stem,head|flag|stem,head"],rhymePattern:"12,02,1"},"3/32_1/32_1/16_1/16":{descriptions:["stem,head|hline one,hline two,dot|w1o2@stem,head,hline one,hline two,hline three|w1o5@stem,head,hline one, hline two|w1o5@stem,head,hline one, hline two"],rhymePattern:"10022020"},"3/32_1/32_1/16_1/16_1/4":{descriptions:["stem,head|hline one,hline two,dot|w1o2@stem,head,hline one,hline two,hline three|w1o5@stem,head,hline one, hline two|w1o5@stem,head,hline one, hline two","stem,head"],rhymePattern:"10022020,1"},"3/8_1/16_1/16":{descriptions:["stem,head|dot","stem,head|w1o5@hline one,hline two,stem,head"],rhymePattern:"1,0022"},"3/8_1/16_1/16_1/4":{descriptions:["stem,head|dot","stem,head|w1o5@hline one,hline two,stem,head","stem,head"],rhymePattern:"1,0022,1"},"1/16_1/16_3/8":{descriptions:["stem,head|w1o5@hline one,hline two,stem,head","stem,head|dot"],rhymePattern:"1220,0"},"1/16_1/16_3/8_1/4":{descriptions:["stem,head|w1o5@hline one,hline two,stem,head","stem,head|dot","stem,head"],rhymePattern:"1220,0,1"}},rhymePatternRows:[["1/4","1/8_1/8"],["1/16_1/16_1/16_1/16","1/16_1/16_1/16_1/16_1/4","3/32_1/32_1/16_1/16","3/32_1/32_1/16_1/16_1/4"],["1/12_1/12_1/12","1/12_1/12_1/12_1/4","1/20_1/20_1/20_1/20_1/20","1/20_1/20_1/20_1/20_1/20_1/4"],["3/16_1/16","3/16_1/16_1/4","1/16_3/16","1/16_3/16_1/4"],["1/16_1/16_1/8","1/16_1/16_1/8_1/4","1/8_1/16_1/16","1/8_1/16_1/16_1/4"],["1/16_1/8_1/16","1/16_1/8_1/16_1/4","1/8_1/4_1/8","1/8_1/4_1/8_1/4"],["3/8_1/16_1/16","3/8_1/16_1/16_1/4","1/16_1/16_3/8","1/16_1/16_3/8_1/4"]]}},methods:{modifyBpm:function(e){this.bpm=this.bpm+e},setRhymePattern:function(e){this.rhymePattern=e},start:function(){this.started=!0,this.$refs.metronome.start()},stop:function(){this.started=!1,this.$refs.metronome.stop()}}},P=v,g=(n("034f"),Object(d["a"])(P,o,r,!1,null,null,null)),C=g.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(C)}}).$mount("#app")},"64a9":function(e,t,n){},a6ae:function(e,t,n){},a891:function(e,t,n){},cb2c:function(e,t,n){"use strict";var i=n("a6ae"),o=n.n(i);o.a}});
//# sourceMappingURL=app.8e6c130e.js.map